{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport { storeUserData } from \"./saveData\";\nstoreUserData('usuario123', 'senha456');\ngetUserData();\nvar token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJndXN0YXZvLnBhaXZhLmdwMUBnbWFpbC5jb20iLCJpc3MiOiJBUEkgVm9sbC5tZWQiLCJleHAiOjE2ODE5NDUzMDV9.qYaoEE2tcNSOdtfPnhCF0_XaC2HFEp9jVqk8HSfElRM\";\nvar api = axios.create({\n  baseURL: \"http://localhost:8080/\",\n  headers: {\n    'Authorization': \"Bearer \" + token,\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n});\nexport function login(_x, _x2) {\n  return _login.apply(this, arguments);\n}\nfunction _login() {\n  _login = _asyncToGenerator(function* (username, password) {\n    return yield api.post(\"/login\", {\n      \"login\": username,\n      \"senha\": password\n    }).then(function (res) {\n      if (res.status == 200) {\n        return res.data.token;\n      } else {\n        console.log(\"erro: \" + res.status + \"\\n\" + res.data);\n        Alert.alert(\"erro: \" + res.status, res.data);\n        return null;\n      }\n    }).catch(function (error) {\n      console.log(\"erro: \" + error.response.status + \"\\n\" + error.response.data);\n      Alert.alert(\"erro: \" + error.response.status, error.response.data);\n      return null;\n    });\n  });\n  return _login.apply(this, arguments);\n}\nfunction getToken() {\n  return _getToken.apply(this, arguments);\n}\nfunction _getToken() {\n  _getToken = _asyncToGenerator(function* () {\n    return yield axios.post(\"http://localhost:8080/login\", {\n      \"login\": \"gustavo.paiva.gp1@gmail.com\",\n      \"senha\": \"Guga04060810#\"\n    }).then(function (res) {\n      if (res.status == 200) {\n        return res.data.token;\n      } else {\n        return \"erro: \" + res.status + \"\\n\" + res.data;\n      }\n    }).catch(function (error) {\n      return \"erro: \" + error.response.status + \"\\n\" + error.response.data;\n    });\n  });\n  return _getToken.apply(this, arguments);\n}\nexport default api;","map":{"version":3,"names":["axios","storeUserData","getUserData","token","api","create","baseURL","headers","login","_x","_x2","_login","apply","arguments","_asyncToGenerator","username","password","post","then","res","status","data","console","log","Alert","alert","catch","error","response","getToken","_getToken"],"sources":["D:/PROGBOYS/ThelmaArmidoro/react/thelma-armidoro-N2/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { storeUserData } from \"./saveData\";\r\nstoreUserData('usuario123', 'senha456');\r\ngetUserData();\r\n\r\nconst token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJndXN0YXZvLnBhaXZhLmdwMUBnbWFpbC5jb20iLCJpc3MiOiJBUEkgVm9sbC5tZWQiLCJleHAiOjE2ODE5NDUzMDV9.qYaoEE2tcNSOdtfPnhCF0_XaC2HFEp9jVqk8HSfElRM\"\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:8080/\",\r\n    headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    }\r\n})\r\n\r\nexport async function login(username, password) {\r\n    return await api.post(\"/login\",\r\n      {\r\n        \"login\": username,\r\n        \"senha\": password\r\n      })\r\n      .then((res) => {\r\n        if (res.status == 200) {\r\n          return res.data.token\r\n        } else {\r\n          console.log(\"erro: \" + res.status + \"\\n\" + res.data)\r\n          Alert.alert(\"erro: \" + res.status, res.data)\r\n          return null\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"erro: \" + error.response.status + \"\\n\" + error.response.data)\r\n        Alert.alert(\"erro: \" + error.response.status, error.response.data)\r\n        return null\r\n      })\r\n  }\r\n\r\nasync function getToken(){\r\n    return await axios.post(\"http://localhost:8080/login\",\r\n    {\r\n        \"login\": \"gustavo.paiva.gp1@gmail.com\",\r\n        \"senha\": \"Guga04060810#\"\r\n    })\r\n    .then((res) => {\r\n        if(res.status == 200){\r\n            return res.data.token\r\n        } else{\r\n            return \"erro: \" + res.status + \"\\n\" + res.data\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        return \"erro: \" + error.response.status + \"\\n\" + error.response.data\r\n    })\r\n}\r\n\r\nexport default api;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa;AACtBA,aAAa,CAAC,YAAY,EAAE,UAAU,CAAC;AACvCC,WAAW,EAAE;AAEb,IAAMC,KAAK,GAAG,uLAAuL;AAErM,IAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAM,CAAC;EACrBC,OAAO,EAAE,wBAAwB;EACjCC,OAAO,EAAE;IACL,eAAe,cAAYJ,KAAO;IAClC,6BAA6B,EAAE;EACnC;AACJ,CAAC,CAAC;AAEF,gBAAsBK,KAAKA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAoBxB,SAAAF,OAAA;EAAAA,MAAA,GAAAG,iBAAA,CApBI,WAAqBC,QAAQ,EAAEC,QAAQ,EAAE;IAC5C,aAAaZ,GAAG,CAACa,IAAI,CAAC,QAAQ,EAC5B;MACE,OAAO,EAAEF,QAAQ;MACjB,OAAO,EAAEC;IACX,CAAC,CAAC,CACDE,IAAI,CAAC,UAACC,GAAG,EAAK;MACb,IAAIA,GAAG,CAACC,MAAM,IAAI,GAAG,EAAE;QACrB,OAAOD,GAAG,CAACE,IAAI,CAAClB,KAAK;MACvB,CAAC,MAAM;QACLmB,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGJ,GAAG,CAACC,MAAM,GAAG,IAAI,GAAGD,GAAG,CAACE,IAAI,CAAC;QACpDG,KAAK,CAACC,KAAK,CAAC,QAAQ,GAAGN,GAAG,CAACC,MAAM,EAAED,GAAG,CAACE,IAAI,CAAC;QAC5C,OAAO,IAAI;MACb;IACF,CAAC,CAAC,CACDK,KAAK,CAAC,UAACC,KAAK,EAAK;MAChBL,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGI,KAAK,CAACC,QAAQ,CAACR,MAAM,GAAG,IAAI,GAAGO,KAAK,CAACC,QAAQ,CAACP,IAAI,CAAC;MAC1EG,KAAK,CAACC,KAAK,CAAC,QAAQ,GAAGE,KAAK,CAACC,QAAQ,CAACR,MAAM,EAAEO,KAAK,CAACC,QAAQ,CAACP,IAAI,CAAC;MAClE,OAAO,IAAI;IACb,CAAC,CAAC;EACN,CAAC;EAAA,OAAAV,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAEYgB,QAAQA,CAAA;EAAA,OAAAC,SAAA,CAAAlB,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAiB,UAAA;EAAAA,SAAA,GAAAhB,iBAAA,CAAvB,aAAyB;IACrB,aAAad,KAAK,CAACiB,IAAI,CAAC,6BAA6B,EACrD;MACI,OAAO,EAAE,6BAA6B;MACtC,OAAO,EAAE;IACb,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,GAAG,EAAK;MACX,IAAGA,GAAG,CAACC,MAAM,IAAI,GAAG,EAAC;QACjB,OAAOD,GAAG,CAACE,IAAI,CAAClB,KAAK;MACzB,CAAC,MAAK;QACF,OAAO,QAAQ,GAAGgB,GAAG,CAACC,MAAM,GAAG,IAAI,GAAGD,GAAG,CAACE,IAAI;MAClD;IACJ,CAAC,CAAC,CACDK,KAAK,CAAC,UAACC,KAAK,EAAK;MACd,OAAO,QAAQ,GAAGA,KAAK,CAACC,QAAQ,CAACR,MAAM,GAAG,IAAI,GAAGO,KAAK,CAACC,QAAQ,CAACP,IAAI;IACxE,CAAC,CAAC;EACN,CAAC;EAAA,OAAAS,SAAA,CAAAlB,KAAA,OAAAC,SAAA;AAAA;AAED,eAAeT,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}