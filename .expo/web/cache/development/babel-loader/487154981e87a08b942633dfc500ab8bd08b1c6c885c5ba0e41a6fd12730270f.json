{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport { storeUserData, getUserData } from \"./saveData\";\nimport { Alert } from \"\";\nvar token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJndXN0YXZvLnBhaXZhLmdwMUBnbWFpbC5jb20iLCJpc3MiOiJBUEkgVm9sbC5tZWQiLCJleHAiOjE2ODE5NDUzMDV9.qYaoEE2tcNSOdtfPnhCF0_XaC2HFEp9jVqk8HSfElRM\";\nvar api = axios.create({\n  baseURL: \"http://localhost:8080/\",\n  headers: {\n    'Authorization': \"Bearer \" + token,\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n});\nexport function login(_x, _x2) {\n  return _login.apply(this, arguments);\n}\nfunction _login() {\n  _login = _asyncToGenerator(function* (username, password) {\n    return yield api.post(\"/login\", {\n      \"login\": username,\n      \"senha\": password\n    }).then(function (res) {\n      if (res.status == 200) {\n        storeUserData(username, password, res.data.token);\n        return res.data.token;\n      } else {\n        console.log(\"erro: \" + res.status + \"\\n\" + res.data);\n        Alert.alert(\"erro: \" + res.status, res.data);\n        return null;\n      }\n    }).catch(function (error) {\n      console.log(\"erro: \" + error.response.status + \"\\n\" + error.response.data);\n      Alert.alert(\"erro: \" + error.response.status, error.response.data);\n      return null;\n    });\n  });\n  return _login.apply(this, arguments);\n}\nfunction getToken() {\n  return _getToken.apply(this, arguments);\n}\nfunction _getToken() {\n  _getToken = _asyncToGenerator(function* () {\n    return yield axios.post(\"http://localhost:8080/login\", {\n      \"login\": \"gustavo.paiva.gp1@gmail.com\",\n      \"senha\": \"Guga04060810#\"\n    }).then(function (res) {\n      if (res.status == 200) {\n        return res.data.token;\n      } else {\n        return \"erro: \" + res.status + \"\\n\" + res.data;\n      }\n    }).catch(function (error) {\n      return \"erro: \" + error.response.status + \"\\n\" + error.response.data;\n    });\n  });\n  return _getToken.apply(this, arguments);\n}\nexport default api;","map":{"version":3,"names":["axios","storeUserData","getUserData","Alert","token","api","create","baseURL","headers","login","_x","_x2","_login","apply","arguments","_asyncToGenerator","username","password","post","then","res","status","data","console","log","alert","catch","error","response","getToken","_getToken"],"sources":["D:/PROGBOYS/ThelmaArmidoro/react/thelma-armidoro-N2/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { storeUserData, getUserData } from \"./saveData\";\r\nimport {Alert} from \"\"\r\n\r\n\r\nconst token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJndXN0YXZvLnBhaXZhLmdwMUBnbWFpbC5jb20iLCJpc3MiOiJBUEkgVm9sbC5tZWQiLCJleHAiOjE2ODE5NDUzMDV9.qYaoEE2tcNSOdtfPnhCF0_XaC2HFEp9jVqk8HSfElRM\"\r\n\r\nconst api = axios.create({\r\n    baseURL: \"http://localhost:8080/\",\r\n    headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    }\r\n})\r\n\r\nexport async function login(username, password) {\r\n    return await api.post(\"/login\",\r\n        {\r\n            \"login\": username,\r\n            \"senha\": password\r\n        })\r\n        .then((res) => {\r\n            if (res.status == 200) {\r\n                storeUserData(username, password, res.data.token);\r\n                return res.data.token\r\n            } else {\r\n                console.log(\"erro: \" + res.status + \"\\n\" + res.data)\r\n                Alert.alert(\"erro: \" + res.status, res.data)\r\n                return null\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"erro: \" + error.response.status + \"\\n\" + error.response.data)\r\n            Alert.alert(\"erro: \" + error.response.status, error.response.data)\r\n            return null\r\n        })\r\n}\r\n\r\nasync function getToken() {\r\n    return await axios.post(\"http://localhost:8080/login\",\r\n        {\r\n            \"login\": \"gustavo.paiva.gp1@gmail.com\",\r\n            \"senha\": \"Guga04060810#\"\r\n        })\r\n        .then((res) => {\r\n            if (res.status == 200) {\r\n                return res.data.token\r\n            } else {\r\n                return \"erro: \" + res.status + \"\\n\" + res.data\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            return \"erro: \" + error.response.status + \"\\n\" + error.response.data\r\n        })\r\n}\r\n\r\nexport default api;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,WAAW;AACnC,SAAQC,KAAK,QAAO,EAAE;AAGtB,IAAMC,KAAK,GAAG,uLAAuL;AAErM,IAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACrBC,OAAO,EAAE,wBAAwB;EACjCC,OAAO,EAAE;IACL,eAAe,cAAYJ,KAAO;IAClC,6BAA6B,EAAE;EACnC;AACJ,CAAC,CAAC;AAEF,gBAAsBK,KAAKA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAqB1B,SAAAF,OAAA;EAAAA,MAAA,GAAAG,iBAAA,CArBM,WAAqBC,QAAQ,EAAEC,QAAQ,EAAE;IAC5C,aAAaZ,GAAG,CAACa,IAAI,CAAC,QAAQ,EAC1B;MACI,OAAO,EAAEF,QAAQ;MACjB,OAAO,EAAEC;IACb,CAAC,CAAC,CACDE,IAAI,CAAC,UAACC,GAAG,EAAK;MACX,IAAIA,GAAG,CAACC,MAAM,IAAI,GAAG,EAAE;QACnBpB,aAAa,CAACe,QAAQ,EAAEC,QAAQ,EAAEG,GAAG,CAACE,IAAI,CAAClB,KAAK,CAAC;QACjD,OAAOgB,GAAG,CAACE,IAAI,CAAClB,KAAK;MACzB,CAAC,MAAM;QACHmB,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGJ,GAAG,CAACC,MAAM,GAAG,IAAI,GAAGD,GAAG,CAACE,IAAI,CAAC;QACpDnB,KAAK,CAACsB,KAAK,CAAC,QAAQ,GAAGL,GAAG,CAACC,MAAM,EAAED,GAAG,CAACE,IAAI,CAAC;QAC5C,OAAO,IAAI;MACf;IACJ,CAAC,CAAC,CACDI,KAAK,CAAC,UAACC,KAAK,EAAK;MACdJ,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGG,KAAK,CAACC,QAAQ,CAACP,MAAM,GAAG,IAAI,GAAGM,KAAK,CAACC,QAAQ,CAACN,IAAI,CAAC;MAC1EnB,KAAK,CAACsB,KAAK,CAAC,QAAQ,GAAGE,KAAK,CAACC,QAAQ,CAACP,MAAM,EAAEM,KAAK,CAACC,QAAQ,CAACN,IAAI,CAAC;MAClE,OAAO,IAAI;IACf,CAAC,CAAC;EACV,CAAC;EAAA,OAAAV,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAEce,QAAQA,CAAA;EAAA,OAAAC,SAAA,CAAAjB,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAgB,UAAA;EAAAA,SAAA,GAAAf,iBAAA,CAAvB,aAA0B;IACtB,aAAaf,KAAK,CAACkB,IAAI,CAAC,6BAA6B,EACjD;MACI,OAAO,EAAE,6BAA6B;MACtC,OAAO,EAAE;IACb,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,GAAG,EAAK;MACX,IAAIA,GAAG,CAACC,MAAM,IAAI,GAAG,EAAE;QACnB,OAAOD,GAAG,CAACE,IAAI,CAAClB,KAAK;MACzB,CAAC,MAAM;QACH,OAAO,QAAQ,GAAGgB,GAAG,CAACC,MAAM,GAAG,IAAI,GAAGD,GAAG,CAACE,IAAI;MAClD;IACJ,CAAC,CAAC,CACDI,KAAK,CAAC,UAACC,KAAK,EAAK;MACd,OAAO,QAAQ,GAAGA,KAAK,CAACC,QAAQ,CAACP,MAAM,GAAG,IAAI,GAAGM,KAAK,CAACC,QAAQ,CAACN,IAAI;IACxE,CAAC,CAAC;EACV,CAAC;EAAA,OAAAQ,SAAA,CAAAjB,KAAA,OAAAC,SAAA;AAAA;AAED,eAAeT,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}